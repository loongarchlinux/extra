# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=30.0.0
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('8478034401ab04d251cd1ea75e9ab0d90022a09c316f1817d1aaf1b81e2c0df3621c9971a3f1f8315bc2029ede969de25633f273dd84286e21d251878459f098'
        '2c4b0c0b488bed64d62cac4223ab99138b9032d090eb3a5667b8aad7949afa2e3a559bddbe5632c1b4f728f88d07f08365bc3e1f2adc91192a8652d55fa0517c'
        '01e81f70582bb40e37672a6fe89ec2e257373376d3a4a52706431f2a1f6942d4ac8efca63aeced5e5c18b366ca12d1c83fb811552cb236af489ae4fd575d072b'
        '21baafcfd49a40ec7fbdc692d0f03e5300f13da167d92b8e932efe214ff958892c443bb0e13103e8defd81eed655df714c5183dba8959b947a1399e0ae9ed3ef'
        '3aca47e672a76f4eb3ae49fa9899738f996eb6a31c56eee3547e11c6738dae6aa37a10a026db6515bdb544667371f7c3162636b23faec15e47246f1c121e1df1'
        'e2a1f8de48cb49f62e5fdb81102139468c4db61b62b93aca26b112f0eec1a3a8c1f9845f9672f735f423f85f9b2a1676bbc90d75ed3bf940d8a455de24f55ac1'
        '70299c9482df942357d9dcc9d2cab7217a33505bbd221147431771e7c1067709ac89c4af078c939c637ad6a6b6629b2caceb77547160f9c98acede79ba5a9355'
        '42343b36a58f9653a487ae6b338c3ae86274a1b1d6e1a4825abad91d4ed58f4c36a7ac226b2592ff8befe2a9988b9028486fecb9390785c8febd68c1dfd1e289'
        'b43d53d1cacf11fde9a8874cc995ec807b9b17c191a2b11e3ac2643eeedcf052bea60efb576bb6e6efa0592eeffc88d2c715cfdaf03e12f3d06fbc6836bb7003'
        '8cb8ff9f093426b4ffd8a5563eb7833e4dd9fd77756f129c70fd11ca3b7814153835b75c163944bd98b367047a8937525115b467c48ae6f978c22c84cc7a583d'
        '8fe56e48e4408080b04581fe88e4f6a795e211078cd6631d38df8c319f4c7a7d8659c5de86788bb862a318dcf11b40dd67dcd18f4e670fa2a0c087ef3f90429d'
        '44d3e3defcf6c0281bc0c997b07581d8d06c09193880c1f021669c728f5726f2b6cc61f59d02ff88756af427539a2787b0717fc045176bd124fe0a3dab335121'
        'dfda259d2e2fb35f4730f6c22087d836c411160e2bfe13b120c57b32a420339879deb53d80fcd2043aff185de0798d0233f6d8974597aaecd0f4244de69a8058'
        '63e042e2b821d9ef5b7c67f1b0e3da9015fa9113dfa3494ff8bc768d4c469ebdf7c18094142367268e4a7ecc76e3ca687c923e260a2cd23129301692b4e6f625'
        '0f3e41d5b97b724d0d87b6c92a65b00227f21570fe80114b44db8784cb39689800afb539e6a31755b2a42005dffe090c2df92efee81d1947599904620204f6ff'
        '5b44199c0eda13925cd0b14f8e8b86a453beebc1fa69ab1466a52e3942eb60be7837be2d4fdac1819952afa8dedee9f302d75bcaf2081c50cd5a30fbf0a6cf66'
        '5ea7242afa0d19711695d661b7b64e82a50fefda2b0d4c43f20db0c955b4d786838f67f0af9055a6477be624379818cd3c2ec4834fcb984c1d0adc0a7bcdd8eb'
        '21b7ad3f39fb88b65ad17f50b1ab35108e33addab5173e51a05d405b94d7087cd2c539a140abc8d1ec6921d0eca9c583801137c3f2a004a22ae5ec4dab570929'
        '983ae02d0f8494d99b655214e63a5520b7c109ed4d735519be033e701b7a7e7e669f59805e67e89009f3fcbb4e257202542d3772e4cbcb2190cd1fe6ffdd3cdc'
        '4ec00d08b32939ccdea035e4bcf0e444c7720e771801cba0520be13d097cf9754598958d3749fbd62c99d7bbe0c0bc5696bf15823a6589b7a7d62d1c3f17b135'
        '3d58e29972503885d9735456b499b45ba11e42b790eb99297ce3e9ea5d5abc7555994a9fddf63bd0c183355eee8b7c8d5e30592ed6dcd73bd9851cb2c6d30e94'
        '8c3bcfd8dfbf941e295e548bf1b8e4e692ad0b3e4c1cb123902e2db8329dc870a443a6f54990dec0359dab65e5608a8fcf98c5ea237f5bb15b5932ba491743c3'
        '58ac43c0955a7445a684d1d83486d5233e65a16fc0afc0155e3cfb70546ea8cfb30c1b12385c8f0f32e1ea5403050c6a9b010ae40938034c7d155a21e70e05f9'
        '8ac3a192cde91678bf0eaf5f9477395fe197c3b65bd0b212d4fe400efbf568bdc3f09f898233a9100ed529855f850de0a5a60d714df97325f05ebfd7415b9728'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done
