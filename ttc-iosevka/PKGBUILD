# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=31.0.0
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('12ab069aa77f2d7b977294e935e66c474fc7f358d02606aa66b78476ccca3631af24f860c0bb91b2c01037e5b983df96ecdce405f06b1b9fb0be7283fc354bf0'
        '477431f80270766e4a647e41ae71f9f22f697f6d896c195bfff890e9e4c77b1cdaa958e34be3eae9cd96b20f2a5b06c85ed7883d11b3caf66a6b0eabb90c6566'
        'be71bf4cffe662a768ef8cc8b3b6faf485c0de31407974d9040f3849a52d6ca5eec73a8b5a6deaf939b3a8a7834658f5e707806b3413964853ba188f029d878e'
        '883640d7326292e907b9c8e79f0ac74e3cb4bd340490c448ea936eaf3698946ad40f4a8d21f662c0a79b715a0b62e0eaa5f919f070bf9d416c035304eb631e54'
        '02ca5d46ddf95ddb1b7dae23863da4e60d532f5eaf8c0c9eda7845dd9c06671a637ae6c1b68be9937be66f917007769c1dbc990423220c43fcdf78ce095938fd'
        'ba9f457da77b4fc1025749e3676629b79a1b957e8d2100215f57103ce573f8fe08c2c6e91128fe126a40ff6469332df268c82b1e4f9fbaf19f0a381e6e6328a3'
        '822e5ef7eb3eca4517ff6e0c02b827ce36d5f5d095f2cfb79bbb9490c1d99f3098311f4c43ed686a9c35230bd794b312d54f62f51a8e6b4d874c932e1da9db8f'
        'a94c873e5e5fea0c6fee2599426a41aed8caaf3176a16190ff9afa63c34f34e731aa0805934916bb29a63c37115f3002660cf6bb9b7d093ad5c933362208e5ec'
        '6ef764a865203843c2b5eb1e39b5bc0281eff34d5bf0959f2beb8982faa47c66ae787e5ff0cd224ded2fd8cd0eda2484695ceab36b6df79dd60a1f15c41b9ee8'
        '072e10b54d7085ad0364c349bba3b244489295353bc8bb831c70e5920c19e129225e2a7762c72858e9272ed0c9caeffbf202fd40eff56296182878e895b1033e'
        '49bd2b3026e2557b5b5ecb99d78047e58de7ed467f6cf73342146ddfd742139c30268622965f73103e2d6418567763740493d4a26671a80bf1fa099ea10c8cce'
        '8f8fff0d7b3bf8ab290c86812448daa94ef382db4d23e68867f9f9daf50d49104a81b725d60f830e4a1e2700b54f387d32538e9cdc20e84897ba3a0022ccb1ca'
        'c4a16ac31cb84755ba99590938308b5e6615e0e6fd69e7b07ae1888d0e1103fe43d04b9906571a653296c2980b5a31a526b2c017e68683102d14cc215e6d7801'
        'af38a1632075f3ce6ed62ab6dd7be53618adc157e19fcf904d6f29534e9abc96ae63b96c7c47f68231b8a54139453e71bd5791801b4029648b433d1476ecc4e0'
        '45304ed093ae5356e51269379b2ea934da715f9dd1f98e5914c6eb480e8b57d710fffd3d93faf3892d86d3a2788301f3b9f542262512e2c1ad23168b554a492b'
        '9c51754484aa5a6586be63ef6973f5de37bede123d58946c89ed7ab10bd9554117df1edb4b077d852ac1166852574b2d6232f5656fa2e35c670c02df76328caf'
        '6782c06aa301a9fa8fb50dbb2ba4039065e8dbdd291788c30bbae19cdb78878b6ac39a0fe8c19f3fe6849749cdfcef459060d75ea6e720c923729c6c69df016f'
        'dc9dfc1290f566ec00a4bfb95bc876490517bf27dd2714d54e5bb80e1e7845abcc347531d0e9d06e326383fde72a6911f0f88fc54a738c253f0682b523e5d145'
        '4296361b732d1511e0bafa108a21e5809ba0681d8db9eef4fb677254c512ed0cfa22896f321ee71c4cdd8eb5a3db7b2e8734ae0b56f760fdb92f8407b694c946'
        '764a158f04d0e9a380c926835eb1264fbfa643535fd32d082b5b4475f41cd95bc02ea247ba975dfde111e0cf2fa8cddcf725aa2e6a3f2268d85bf95248b1ac4a'
        '6dcc2e95e7438d9768a34b7c2f8c5a07373b38b524b2caa18d2c5036455b922f0e4c17f1261f539e3932f9a681057ba23db27c6c5aa206315e7e04d2720b8489'
        '3bbb3e2e0c6d8403498c1ffdba068f40673bd10d29689a454c7be86771f7fcdad2a97f6e3322eb6d968e38896332b76ff88568efcf740efe71acb14d0bd0de59'
        'a3dc9b754926ba356bd8c4261ddbadea8f6cd294f06473e68c51828882669d4cbbb763232dd1f513a2c05d397cba6f19bdb062eb52388c1c05fc67d9bf04a13d'
        '256b393d2cb68c841efac0179d8755f4dcc749c9df51f6633dc3f6ee6a79cd57462a6bc7d58908742d20220ddf81aa277b0d2b45d10ce0ca9974c699f45cec5c'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done
