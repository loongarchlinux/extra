# Maintainer: Alexander F. RÃ¸dseth <xyproto@archlinux.org>
# Contributor: Bastien Dejean <nihilhill@gmail.com>

pkgname=sxhkd
pkgver=0.6.2
pkgrel=4
pkgdesc='Simple X hotkey daemon'
arch=(loong64 x86_64)
url='https://github.com/baskerville/sxhkd'
license=(BSD-2-Clause)
depends=(xcb-util-keysyms)
makedepends=(git xcb-util)
source=("git+$url#commit=fe241b0d2d70c9c483b23cf3cd14f1383f0953a2") # tag: 0.6.2
b2sums=('dc0cda44d4d25a4497216abe46c5044bd716b7fa820e89bb759bd15038926e5dae0cfb7071d5223c9e44e60fd766442941868b9744d8b6c39053201d86035ee8')

build() {
  CFLAGS+=' -fcommon' # https://wiki.gentoo.org/wiki/Gcc_10_porting_notes/fno_common
  make -C $pkgname PREFIX=/usr
}

package() {
  make -C $pkgname PREFIX=/usr DESTDIR="$pkgdir" install
  install -Dm644 $pkgname/LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
