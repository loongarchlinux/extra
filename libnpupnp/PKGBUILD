# Maintainer: Alexander Epaneshnikov <alex19ep@archlinux.org>
# Contributor: Fabio 'Lolix' Loli <fabio.loli@disroot.org> -> https://github.com/FabioLolix

pkgname=libnpupnp
pkgver=6.1.3
pkgrel=1
pkgdesc="C++ base UPnP library, derived from Portable UPnP, a.k.a libupnp"
url="https://www.lesbonscomptes.com//upmpdcli/libupnpp-refdoc/libupnpp-ctl.html"
arch=(loong64 x86_64)
license=(BSD-3-Clause)
depends=(glibc gcc-libs curl expat libmicrohttpd)
makedepends=('meson')
provides=(libnpupnp.so)
source=("https://www.lesbonscomptes.com/upmpdcli/downloads/libnpupnp-${pkgver}.tar.gz")
sha256sums=('80c3d5adc388e59057be52c4c33d7708efe05318487c09e342e7a1f4a83aa792')

build(){
  arch-meson $pkgname-$pkgver build
    meson compile -C build
}

package(){
  meson install -C build --destdir "$pkgdir"
  install -Dm644 "$pkgname-$pkgver/COPYING" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
