# Maintainer: Konstantin Gizdov <arch at kge dot pw>

_pkgname='keras'
pkgname=("python-${_pkgname}")
pkgdesc='A deep learning API written in Python, running on top of the machine learning platform TensorFlow'
url='https://keras.io/'
license=('Apache')
pkgver=2.15.0
pkgrel=2
arch=('any')
source=("https://files.pythonhosted.org/packages/py3/${_pkgname::1}/$_pkgname/${_pkgname//-/_}-$pkgver-py3-none-any.whl"
        "${_pkgname}-${pkgver}-LICENSE::https://raw.githubusercontent.com/keras-team/${_pkgname}/v${pkgver}/LICENSE")
makedepends=('python-build' 'python-installer' 'python-wheel')
depends=('absl-py' 'python' 'python-h5py' 'python-keras-preprocessing'
         'python-numpy' 'python-pandas' 'python-pillow' 'python-pydot' 'python-scipy'
         'python-six' 'python-tensorflow' 'python-yaml' 'tensorboard')
b2sums=('7bd75616b998686af466d180d96f06810329b0926eb278ed1b0c2951930db48d0c47f22ed6aca9a9445abbc654c31e9ab9e66f4e6804d082ad96279415e06e0c'
        'dc6395f606b09f8a2fa6e8d28f8436a9b0d2ee7e43b4033542c55eb1bf26e9e6c01fd53770e825b9e996ef15fd2eb77f1e0524d4fc1a3e8bf52d72de3adbd653')

package () {
  python -m installer --destdir="$pkgdir" *.whl
  install -Dm 644 "${_pkgname}-${pkgver}-LICENSE" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
